(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{214:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SET_CITY",function(){return I}),a.d(n,"SET_FORECAST_DATA",function(){return L}),a.d(n,"GET_WEATHER_CITY",function(){return R}),a.d(n,"SET_WEATHER_CITY",function(){return z}),a.d(n,"setSelectedCity",function(){return B}),a.d(n,"setWeather",function(){return H});var r,c=a(0),o=a.n(c),i=a(71),u=a.n(i),l=a(20),s=(a(92),a(17)),d=a(18),m=a(21),f=a(19),h=a(22),p=(a(94),a(7)),y=a(74),E=a.n(y),v=(a(52),function(e){var t=e.city;return o.a.createElement("div",{className:"locationCont"},o.a.createElement("h1",null,t))}),w=(a(39),function(e){var t=e.humidity,a=e.wind;return o.a.createElement("div",{className:"weatherExtraInfoCont"},o.a.createElement("span",{className:"extraInfoText"},"Humedad: ".concat(t,"%")),o.a.createElement("span",{className:"extraInfoText"},"Vientos: ".concat(a)))}),b=a(3),O=a(49),j=a.n(O),C=(r={},Object(b.a)(r,"clud","cloud"),Object(b.a)(r,"sun","day-sunny"),Object(b.a)(r,"rain","rain"),Object(b.a)(r,"snow","snow"),Object(b.a)(r,"thunder","day-thunderstorm"),Object(b.a)(r,"drizzle","day-showers"),r),T=function(e){var t=e.temperature,a=e.weatherState;return o.a.createElement("div",{className:"weatherTemperatureCont"},function(e){var t=C[e];return t?o.a.createElement(j.a,{className:"wicon",name:t,size:"4x"}):o.a.createElement(j.a,{className:"wicon",name:"day-sunny",size:"4x"})}(a),o.a.createElement("span",{className:"temperature"},"".concat(t)),o.a.createElement("span",{className:"temperatureType"},"C\xaa"))},D=function(e){var t=e.data,a=t.temperature,n=t.weatherState,r=t.humidity,c=t.wind;return o.a.createElement("div",{className:"weatherDataCont"},o.a.createElement(T,{temperature:a,weatherState:n}),o.a.createElement(w,{humidity:r,wind:c}))},k=function(e){var t=e.onWeatherLocationClick,a=e.city,n=e.data;return o.a.createElement("div",{className:"weatherLocationCont",onClick:t},o.a.createElement(v,{city:a}),n?o.a.createElement(D,{data:n}):o.a.createElement(E.a,{size:50}))},S=(a(64),function(e){var t=e.cities,a=e.onSelectedLocation;return o.a.createElement("div",{className:"locationList"},function(e){return e.map(function(e){return o.a.createElement(k,{key:e.key,city:e.name,onWeatherLocationClick:function(){return function(e){console.log("handleWeatherLocationClick"),a(e)}(e.name)},data:e.data})})}(t))}),_=a(9),x=a.n(_),g=(a(169),a(75)),N=a.n(g),W=function(e){var t,a=e.main,n=a.humidity,r=a.temp,c=e.wind.speed,o=function(e){var t=e.id;return t<300?"thunder":t<400?"drizzle":t<600?"rain":t<700?"snow":800===t?"sun":"clud"}(e.weather[0]);return{humidity:n,temperature:(t=r,Number(N()(t).from("K").to("C").toFixed(0))),weatherState:o,wind:"".concat(c," m/s")}},A=function(e){return e.list.filter(function(e){return 6===x.a.unix(e.dt).utc().hour()||12===x.a.unix(e.dt).utc().hour()||18===x.a.unix(e.dt).utc().hour()}).map(function(e){return{weekDay:x.a.unix(e.dt).format("ddd"),hour:x.a.unix(e.dt).hour(),data:W(e)}})},I="SET_CITY",L="SET_FORECAST_DATA",R="GET_WEATHER_CITY",z="SET_WEATHER_CITY",Y="76ff146f7db30c279ba914a50a7ab1b8",B=function(e){return function(t,a){var n="".concat("http://api.openweathermap.org/data/2.5/forecast","?q=").concat(e,"&appid=").concat(Y);t(function(e){return{type:I,payload:e}}(e));var r=a(),c=r.cities[e]&&r.cities[e].forecastDataDate,o=new Date;if(!(c&&o-c<6e4))return fetch(n).then(function(e){return e.json()}).then(function(a){var n=A(a);console.log(n),t(function(e){return{type:L,payload:e}}({city:e,forecastData:n}))})}},H=function(e){return function(t){e.forEach(function(e){t({type:R,payload:e});var a="".concat("http://api.openweathermap.org/data/2.5/weather","?q=").concat(e,"&appid=").concat(Y);fetch(a).then(function(e){return e.json()}).then(function(a){var n=W(a);t({type:z,payload:{city:e,weather:n}})})})}},q=a(10),F=a(81),G=a(12),M=a(76),P=a.n(M),J=Object(q.a)(function(e,t){return e[t]&&e[t].forecastData},function(e){return e}),V=Object(q.a)(function(e){return t=e,P()(t).map(function(e){var t=Object(F.a)(e,2),a=t[0];return{key:a,name:a,data:t[1].weather}});var t},function(e){return e}),X=Object(p.c)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:var a=t.payload,n=a.city,r=a.forecastData;return Object(G.a)({},e,Object(b.a)({},n,Object(G.a)({},e[n],{forecastData:r,forecastDataDate:new Date})));case R:var c=t.payload;return Object(G.a)({},e,Object(b.a)({},c,Object(G.a)({},e[c],{weather:null})));case z:var o=t.payload,i=o.city,u=o.weather;return Object(G.a)({},e,Object(b.a)({},i,Object(G.a)({},e[i],{weather:u})));default:return e}},city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return t.payload;default:return e}}}),K=Object(q.a)(function(e){return e.city},function(e){return e}),U=Object(q.a)(function(e){return e.cities},K,J),$=Object(q.a)(function(e){return e.cities},V),Q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleSelectedLocation=function(e){a.props.setSelectedCity(e)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setWeather,a=e.setSelectedCity,n=e.cities,r=e.city;t(n),a(r)}},{key:"render",value:function(){return o.a.createElement(S,{cities:this.props.citiesWeather,onSelectedLocation:this.handleSelectedLocation})}}]),t}(c.Component),Z=Object(l.b)(function(e){return{citiesWeather:$(e),city:K(e)}},function(e){return Object(p.b)(n,e)})(Q),ee=a(48),te=a.n(ee),ae=a(77),ne=a.n(ae),re=a(79),ce=a.n(re),oe=a(78),ie=a.n(oe),ue=a(24),le=a(38),se=a.n(le),de=function(e){var t=e.weekDay,a=e.hour,n=e.data;return o.a.createElement("div",null,o.a.createElement("h2",null,t," - ",a," hs"),o.a.createElement(D,{data:n}))},me=function(e){var t=e.city,a=e.forecastData;return o.a.createElement("div",null,o.a.createElement("h2",{className:"forecast-title"},"Pron\xf3stico extendido para ",t),a?function(e){return e.map(function(e){return o.a.createElement(de,{key:"".concat(e.weekDay).concat(e.hour),weekDay:e.weekDay,hour:e.hour,data:e.data})})}(a):o.a.createElement("h3",null,"Cargando Pron\xf3stico extendido..."))};me.proptypes={city:se.a.string.isRequired,forecastData:se.a.array};var fe=me,he=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.city,a=e.forecastData;return t&&o.a.createElement(fe,{city:t,forecastData:a})}}]),t}(c.Component),pe=Object(l.b)(function(e){return{city:K(e),forecastData:U(e)}},null)(he),ye=["Bogota,co","Buenos Aires,ar","Ciudad de m\xe9xico,mx","Washington,us","Madrid,es","Lima,pe"],Ee=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(ue.Grid,null,o.a.createElement(ue.Row,null,o.a.createElement(ne.a,{position:"sticky"},o.a.createElement(ie.a,null,o.a.createElement(ce.a,{variant:"title",color:"inherit"},"Weather App")))),o.a.createElement(ue.Row,null,o.a.createElement(ue.Col,{xs:12,md:6},o.a.createElement(Z,{cities:ye})),o.a.createElement(ue.Col,{xs:12,md:6},o.a.createElement(te.a,{elevation:4},o.a.createElement("div",{className:"details"},o.a.createElement(pe,null))))))}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=a(80),we=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,be=Object(p.e)(X,{city:"Bogota,co"},we(Object(p.a)(ve.a)));u.a.render(o.a.createElement(l.a,{store:be},o.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},39:function(e,t,a){},52:function(e,t,a){},64:function(e,t,a){},82:function(e,t,a){e.exports=a(214)},92:function(e,t,a){},94:function(e,t,a){}},[[82,2,1]]]);
//# sourceMappingURL=main.6c92ea83.chunk.js.map